# 主題200 キャパシティプランニング

## リソース使用率とトラブルシューティング
### iotop
- ディスクI/Oの情報がプロセス毎に確認出来る

### top
- 全体及びプロセスごとのCPUやメモリの使用状況を一定時間ごとに更新して表示するコマンド
- %us ユーザプロセスの割合
- %sy システムプロセスの割合
- %wa I/O待ち時間の割合
- %hi ハードウェアの割り込み処理の割合
- %si ソフトウェアの割り込み処理の割合
- %ni nice値(優先度)つきプロセスの割合
- %st バーチャルマシンに使用された時間の割合
- 1行目: wコマンド、uptimeコマンドと同様
- 2行目: プロセスについて表示
- 3行目: CPUの使用状況
- 4行目: メモリの使用状況
- 5行目: スワップ領域の使用状況
- 6行目以降: 各プロセスの情報を表示

### vmstat
- 物理メモリやスワップ領域の詳細な情報や、プロセスのCPUの統計情報などを表示
- procs欄 プロセスの統計情報
- memory欄 メモリの使用状況
- swap欄 スワップイン・アウトの状況
- io欄 ディスクIOの状態
    - bi デバイスからの読み取りブロック数/秒
    - bo デバイスへの書き込みブロック数/秒
- system欄 割り込み回数やコンテキストスイッチ回数
- cpu欄 CPUの使用状況

### netstat
- ネットワークの状態に関する情報を表示
- -iオプションでインターフェイスの状態を表示

### ps
- 稼働中のプロセスおよび、プロセスごとのCPUやメモリの使用量を表示

### ss
- netstatコマンドを代替するコマンド
- `ss -nt` TCP接続を表示し、アドレス:ポートを数字で表示

### htop
- CPU,メモリなどのリソース情報を表示

### iptraf
- グラフィカルな画面でネットワークインターフェイスのトラフィックを表示

### iw
- 無線インターフェイスを設定

### sar
- sadcコマンドが収集した様々な情報を表示するコマンド
- sadcコマンドは、cronの設定により定期的に実行される
    - 収集した情報は、`/var/log/sa/saXX`ファイルに書き込まれる
- `-u`オプションは、システム全体としてのCPU使用率を表示
- `-b`オプションは、ディスクI/Oの状況を表示
